{% extends "hidp/base_pre_login.html" %}
{% load i18n %}

{% block title %}{% translate 'Log in' %}{% endblock %}

{% block main %}
  {% if oidc_error_message %}
    <ul>
      <li>
        {{ oidc_error_message }}
      </li>
    </ul>
  {% endif %}

  <h1>{% translate 'Log in with username and password' %}</h1>

  {% if is_rate_limited %}
    <p>
      {% blocktranslate trimmed %}
        Excessive login attempts have been detected for this account.
        For your safety, additional security measures are now in place.
      {% endblocktranslate %}
    </p>
  {% endif %}

  <form method="post">
    {% csrf_token %}
    {{ form }}
    {% include 'hidp/includes/forms/submit_row.html' with submit_label=_('Log in') %}
  </form>

  <p>
    <a href="{{ password_reset_url }}">
      {% translate 'Forgot your password?' %}
    </a>
  </p>

  {% if oidc_login_providers %}
    <hr>

    <h1>{% translate 'Log in using a trusted service' %}</h1>

    {% include 'hidp/includes/federated/oidc_provider_list.html' with providers=oidc_login_providers next_url=next %}

  {% endif %}

  <hr>

  <p>
    {% translate "Don't have an account yet?" %}
    <a href="{{ register_url }}">{% translate 'Sign up' %}</a>
  </p>
{% endblock %}
